<!DOCTYPE html>
<html lang="kk">
<head>
  <meta charset="UTF-8">
  <title>Интерактивті Бет</title>
  <style>
    body {
      font-family: sans-serif;
      background-color: #f0f0ff;
      padding: 20px;
      text-align: center;
    }
    h1, h2 {
      color: #4b0082;
    }
    .section {
      background-color: white;
      border-radius: 10px;
      padding: 20px;
      margin-bottom: 30px;
      box-shadow: 0 0 10px #ccc;
    }
    .grid {
      display: grid;
      grid-template-columns: repeat(9, 35px);
      grid-template-rows: repeat(9, 35px);
      justify-content: center;
      margin: 20px auto;
      gap: 2px;
      user-select: none;
    }
    .cell {
      width: 35px;
      height: 35px;
      background-color: white;
      border: 1px solid #ccc;
      font-size: 18px;
      text-transform: uppercase;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: background-color 0.2s;
      color: #000;
    }
    .cell.selected {
      background-color: #ff0;
    }
    .cell.correct {
      background-color: #90ee90;
    }
    .hint-button, button {
      padding: 10px 20px;
      background-color: #4b0082;
      color: white;
      border: none;
      border-radius: 5px;
      margin: 10px 5px;
      cursor: pointer;
    }
    .hint-button:disabled {
      background-color: #aaa;
      cursor: not-allowed;
    }
    .match-container {
      display: flex;
      justify-content: center;
      gap: 50px;
      margin-top: 30px;
      flex-wrap: wrap;
    }
    .match-item {
      padding: 10px;
      background-color: #fff;
      border: 1px solid #aaa;
      margin-bottom: 10px;
      cursor: grab;
      position: relative;
    }
    .match-item::after {
      content: '\2192';
      position: absolute;
      right: -20px;
      top: 50%;
      transform: translateY(-50%);
      color: #4b0082;
    }
    .match-target {
      padding: 10px;
      background-color: #eee;
      border: 2px dashed #aaa;
      min-width: 200px;
      min-height: 30px;
    }
    .matched {
      background-color: #90ee90 !important;
      border: 2px solid green;
    }
    .incorrect {
      background-color: #f88 !important;
      border: 2px solid red;
    }
    .feedback {
      font-weight: bold;
      margin-top: 10px;
    }
  </style>
</head>
<body>

  <!-- Филворд -->
  <div class="section">
    <h1>Филворд: Ежелгі аймақтарды тап!</h1>
    <div class="grid" id="grid"></div>
    <div id="word-list">
      <p><strong>Тап:</strong> Хорезм, Соғды, Ферғана, Шаш, Сырдария, Жетісу</p>
    </div>
    <div id="hints">
      <button class="hint-button" onclick="useHint(0)" id="hint0">Көмек 1</button>
      <button class="hint-button" onclick="useHint(1)" id="hint1">Көмек 2</button>
      <button class="hint-button" onclick="useHint(2)" id="hint2">Көмек 3</button>
    </div>
    <div id="score">Ұпай: 0</div>
  </div>

  <!-- Сәйкестендіру -->
  <div class="section">
    <h1>Сәйкестендіру: Аймақ пен сипаттаманы сәйкестендір</h1>
    <div class="match-container">
      <div id="drag-source">
        <div class="match-item" draggable="true" data-match="Хорезм">Хорезм</div>
        <div class="match-item" draggable="true" data-match="Соғды">Соғды</div>
        <div class="match-item" draggable="true" data-match="Ферғана">Ферғана</div>
        <div class="match-item" draggable="true" data-match="Шаш">Шаш</div>
        <div class="match-item" draggable="true" data-match="Жетісу">Жетісу</div>
      </div>
      <div>
        <div class="match-target" data-accept="Хорезм">Амудария сағасында орналасқан</div>
        <div class="match-target" data-accept="Соғды">Сауда-саттық пен жазудың орталығы</div>
        <div class="match-target" data-accept="Ферғана">Жібек жолының шығыс тармағы өтетін</div>
        <div class="match-target" data-accept="Шаш">Тарихи Ташкент өңірі</div>
        <div class="match-target" data-accept="Жетісу">Су көздеріне бай аймақ</div>
      </div>
    </div>
    <button onclick="checkMatches()" class="hint-button">Тексеру</button>
    <button onclick="resetMatches()" class="hint-button">Болдырмау</button>
  </div>

  <!-- Тест және Иә/Жоқ -->
  <div class="section">
    <h2>Тест Сұрақтары</h2>
    <div id="test-questions"></div>
    <button onclick="checkTestAnswers()">Тексеру</button>
    <div id="test-feedback" class="feedback"></div>
  </div>

  <div class="section">
    <h2>Иә / Жоқ Сұрақтары</h2>
    <div id="yesno-questions"></div>
    <button onclick="checkYesNoAnswers()">Тексеру</button>
    <div id="yesno-feedback" class="feedback"></div>
  </div>

  <script>
    // Филворд
    const words = ["ХОРЕЗМ", "СОГДЫ", "ФЕРГАНА", "ШАШ", "СЫРДАРИЯ", "ЖЕТІСУ"];
    const gridSize = 9;
    const grid = document.getElementById("grid");
    const scoreDisplay = document.getElementById("score");
    let score = 0;
    let selectedCells = [];

    function generateGrid() {
      const letters = "АБВГДЕЁЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ";
      for (let i = 0; i < gridSize * gridSize; i++) {
        const cell = document.createElement("div");
        cell.classList.add("cell");
        cell.textContent = letters.charAt(Math.floor(Math.random() * letters.length));
        cell.addEventListener("click", () => selectCell(cell));
        grid.appendChild(cell);
      }
    }

    function selectCell(cell) {
      if (!cell.classList.contains("selected")) {
        cell.classList.add("selected");
        selectedCells.push(cell);
      } else {
        cell.classList.remove("selected");
        selectedCells = selectedCells.filter(c => c !== cell);
      }

      const selectedWord = selectedCells.map(c => c.textContent).join("");
      if (words.includes(selectedWord)) {
        selectedCells.forEach(c => {
          c.classList.remove("selected");
          c.classList.add("correct");
          c.removeEventListener("click", () => selectCell(c));
        });
        score += 10;
        scoreDisplay.textContent = `Ұпай: ${score}`;
        selectedCells = [];
      }
    }

    function useHint(index) {
      alert(`Көмек ${index + 1}: Бір сөз - ${words[index]}`);
      document.getElementById(`hint${index}`).disabled = true;
    }

    generateGrid();

    // Сәйкестендіру логикасы
    const sources = document.querySelectorAll(".match-item");
    const targets = document.querySelectorAll(".match-target");

    sources.forEach(source => {
      source.addEventListener("dragstart", e => {
        e.dataTransfer.setData("text/plain", source.dataset.match);
        source.classList.add("dragging");
      });
    });

    targets.forEach(target => {
      target.addEventListener("dragover", e => e.preventDefault());
      target.addEventListener("drop", e => {
        e.preventDefault();
        const data = e.dataTransfer.getData("text/plain");
        if (target.dataset.accept === data) {
          target.classList.add("matched");
          target.textContent += ` — ${data}`;
        } else {
          target.classList.add("incorrect");
        }
      });
    });

    function checkMatches() {
      targets.forEach(t => {
        if (!t.classList.contains("matched")) t.classList.add("incorrect");
      });
    }

    function resetMatches() {
      targets.forEach(t => {
        t.classList.remove("matched", "incorrect");
        t.textContent = t.dataset.accept === "Хорезм" ? "Амудария сағасында орналасқан"
          : t.dataset.accept === "Соғды" ? "Сауда-саттық пен жазудың орталығы"
          : t.dataset.accept === "Ферғана" ? "Жібек жолының шығыс тармағы өтетін"
          : t.dataset.accept === "Шаш" ? "Тарихи Ташкент өңірі"
          : "Су көздеріне бай аймақ";
      });
    }

    // Тест және Иә/Жоқ сұрақтары
    const testQuestions = [
      { question: "Неолит төңкерісінің себептері қандай?", options: ["Малды қолға үйрету", "Құралды қолдану", "Халық санының артуы және өндірістік дағдарыс", "Сауда-саттықтың дамуы"], correct: 2 },
      { question: "Неолиттік төңкерістің маңызды қадамы:", options: ["Қару жасау", "Егіншілік пен отырықшылық", "Тілдің дамуы", "Сауда-саттық"], correct: 1 },
      { question: "Орталық Азияда алғаш егіншілікпен айналысқан кімдер?", options: ["Маргуштар", "Бактриялықтар", "Жейтундықтар", "Соғдылар"], correct: 2 },
      { question: "Энеолит дәуірінде не дамыды?", options: ["Металл өңдеу", "Суармалы егіншілік", "Күйме арбалар", "Жазу жазу"], correct: 1 },
      { question: "Мал жайылымда бағылған уақыт:", options: ["Б.з.б. I мыңжылдық", "Б.з.б. III мыңжылдық екінші жартысы", "Б.з.б. IV ғасыр", "Б.з.д. II ғасыр"], correct: 1 },
      { question: "Көшпелі және отырықшы мәдениеттің дамуына не себеп?", options: ["Аңшылық", "Өндіруші экономиканың пайда болуы", "Су көздерінің аздығы", "Сауда керуендері"], correct: 1 },
      { question: "Маргуш мәдениеті қай уақытта пайда болды?", options: ["Б.з.б. I ғасыр", "Б.з.б. XVIII–XIII ғғ.", "Б.з.д. VII ғ.", "Б.з.б. IV ғ."], correct: 1 },
      { question: "Маргуш мәдениетін басқаша қалай атайды?", options: ["Сақ өркениеті", "Заратуштра өркениеті", "Окс өркениеті", "Тигр өркениеті"], correct: 2 },
      { question: "Шаштың солтүстігін алып жатқан аймақ?", options: ["Жетісу", "Соғды", "Сырдария", "Ферғана"], correct: 2 },
      { question: "Ұлы Даланың аумағы қандай?", options: ["Енисейден Жапон теңізіне дейін", "Дунайдан Алтай мен Маньчжурияға дейін", "Аралдан Жетісуға дейін", "Түркістаннан Иранға дейін"], correct: 1 }
    ];

    const yesNoQuestions = [
      { question: "Неолит дәуірінде металл балқыту меңгерілді.", answer: false },
      { question: "Жейтундықтар дәнді дақылдарды өсірген.", answer: true },
      { question: "Маргуш мәдениеті Жетісуда пайда болды.", answer: false },
      { question: "Суармалы егіншілік энеолитте басталды.", answer: true },
      { question: "Соғды аймағы мал шаруашылығымен ғана шұғылданды.", answer: false }
    ];

    function renderTest() {
      const container = document.getElementById("test-questions");
      container.innerHTML = "";
      testQuestions.forEach((q, i) => {
        const div = document.createElement("div");
        div.innerHTML = `<p>${i+1}. ${q.question}</p>`;
        q.options.forEach((opt, j) => {
          div.innerHTML += `<label><input type="radio" name="q${i}" value="${j}"> ${opt}</label><br>`;
        });
        container.appendChild(div);
      });
    }

    function checkTestAnswers() {
      let correct = 0;
      testQuestions.forEach((q, i) => {
        const val = document.querySelector(`input[name="q${i}"]:checked`);
        if (val && parseInt(val.value) === q.correct) correct++;
      });
      document.getElementById("test-feedback").innerText = `Дұрыс жауаптар: ${correct} / ${testQuestions.length}`;
    }

    function renderYesNo() {
      const container = document.getElementById("yesno-questions");
      container.innerHTML = "";
      yesNoQuestions.forEach((q, i) => {
        const div = document.createElement("div");
        div.innerHTML = `
          <p>${i+1}. ${q.question}</p>
          <label><input type="radio" name="yn${i}" value="true"> Иә</label>
          <label><input type="radio" name="yn${i}" value="false"> Жоқ</label>
        `;
        container.appendChild(div);
      });
    }

    function checkYesNoAnswers() {
      let correct = 0;
      yesNoQuestions.forEach((q, i) => {
        const val = document.querySelector(`input[name="yn${i}"]:checked`);
        if (val && val.value === q.answer.toString()) correct++;
      });
      document.getElementById("yesno-feedback").innerText = `Дұрыс жауаптар: ${correct} / ${yesNoQuestions.length}`;
    }

    renderTest();
    renderYesNo();
  </script>
</body>
</html>
